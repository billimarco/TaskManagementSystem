{% extends "base.html" %}

{% block title %}Assigned Tasks{% endblock title %}

{% block content %}
{% if user.is_authenticated %}
<!-- Tasks List -->
{% for ut in user_task_list %}
<div class="card">
  <div class="d-inline-flex card-header align-items-center justify-content-between">
    <div class="text-start">
      <span class="fw-bold"> {{ ut.task.title }} </span>
    </div>
    <div class="text-end">
      <span>{{ ut.task.get_priority_display }} | {{ ut.task.get_status_display }}</span>
    </div>
  </div>
  <div class="card-body">
    {{ ut.task.description }}
  </div>
  <div class="d-inline-flex card-footer text-center text-muted align-items-center justify-content-between">
    <div class="text-start">
      <span>Created {{ ut.task.created }} by {{ ut.task.created_by }}</span>
    </div>
    <div class="text-end">
      <a class="btn btn-primary" href="{% url 'task_history' ut.task.repo.repo_id ut.task.repo.name ut.task.task_id %}" role="button">History</a>
      <a class="btn btn-warning" href="{% url 'task_edit' ut.task.repo.repo_id ut.task.repo.name ut.task.task_id %}" role="button">Modify</a>
      <a class="btn btn-warning" href="{% url 'task_status' ut.task.repo.repo_id ut.task.repo.name ut.task.task_id %}" role="button">Change Status</a>
      <a class="btn btn-warning" href="{% url 'task_delete' ut.task.repo.repo_id ut.task.repo.name ut.task.task_id %}" role="button">Delete</a>
    </div>
  </div>
</div>
<br />
{% endfor %}
{% endif %}
{% endblock content %}